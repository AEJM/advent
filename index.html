<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Calendario de Adviento</title>

<style>
:root {
    --bg: #9b0505;
    --card: rgba(255,255,255,0.15);
    --text: #ffffff;
    --white: #ffffff;
}

/* Reset */
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: "Segoe UI", Roboto, sans-serif;
    background: var(--bg);
    color: var(--text);
    padding: 20px;
    min-height: 100vh;
    overflow-x: hidden;
}

header {
    text-align: center;
    margin-bottom: 20px;
}

h1 {
    margin: 0;
    font-size: 28px;
}

p.lead {
    margin: 0;
    opacity: 0.9;
}

/* ===== GRID RESPONSIVA ===== */
.grid {
    display: grid;
    gap: 14px;
    margin-top: 20px;
}

/* Pantalla grande */
@media (min-width: 901px) {
    .grid {
        grid-template-columns: repeat(5, 1fr);
    }
}

/* Tablet horizontal / vertical */
@media (max-width: 900px) and (min-width: 601px) {
    .grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Celular vertical */
@media (max-width: 600px) {
    .grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
    }
}

/* Cada d√≠a (cuadrado perfecto) */
.day {
    background: var(--card);
    border: 1px solid rgba(255,255,255,0.25);
    border-radius: 14px;
    aspect-ratio: 1/1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: .15s;
    backdrop-filter: blur(4px);
    padding: 6px;
}

/* Tama√±os adaptados */
.day .num {
    font-size: clamp(20px, 5vw, 32px);
    font-weight: 700;
    text-shadow: 0 0 8px rgba(255,255,255,0.6);
}

.day .label {
    font-size: clamp(11px, 2.5vw, 14px);
    opacity: 0.9;
    margin-top: 4px;
}

.day:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

.day.locked {
    opacity: 0.55;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* ===== MODAL ===== */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: .25s;
    z-index: 20;
}

.overlay.show {
    opacity: 1;
    pointer-events: auto;
}

.modal {
    width: min(720px, 90%);
    background: rgba(255,255,255,0.8); /* 80% transparencia */
    color: #222;
    border-radius: 16px;
    padding: 22px;
    display: flex;
    flex-direction: row;
    gap: 18px;
}

/* Modal responsivo */
@media (max-width: 700px) {
    .modal {
        flex-direction: column;
    }
}

.modal h2 {
    margin: 0 0 8px 0;
    color: #9b0505;
}

.close {
    background: #9b0505;
    color: white;
    border: none;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
}

#modalGift {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Copos de nieve */
.snowflake {
    position: fixed;
    top: -10px;
    color: white;
    opacity: 0.9;
    font-size: 12px;
    user-select: none;
    pointer-events: none;
    animation-name: fall;
    animation-timing-function: linear;
}

@keyframes fall {
    0% { transform: translateY(-10px) translateX(0); opacity: 1; }
    100% { transform: translateY(110vh) translateX(25px); opacity: 0; }
}
</style>
</head>

<body>

<header>
  <h1>Calendario de AdvientAnita</h1>
  <p class="lead">Abre la puerta del d√≠a. üéÑ‚ú®</p>
</header>

<section class="grid" id="grid"></section>

<!-- Modal -->
<div id="overlay" class="overlay">
  <div class="modal">
    <div style="flex:1;">
      <h2 id="modalTitle"></h2>
      <p id="modalText"></p>
      <div id="modalAudio"></div>
      <button class="close" id="closeBtn">Cerrar</button>
    </div>
    <div id="modalGift" style="width:200px;"></div>
  </div>
</div>

<script>
/* ===== FRASES ===== */
const frases = [
  "Que el esp√≠ritu navide√±o encienda tu sonrisa y tu esperanza.",
  "Peque√±os gestos, grandes alegr√≠as.",
  "Que la magia de diciembre te recuerde lo valiente que eres.",
  "Regala tiempo: las mejores memorias no se envuelven.",
  "Calma y abrazos: hoy es un buen d√≠a.",
  "Hoy recuerda: mereces alegr√≠a.",
  "Que la noche traiga paz y la ma√±ana nuevas oportunidades.",
  "R√≠e de lo simple y celebra lo inesperado.",
  "Abre tu coraz√≥n: la generosidad regresa.",
  "Una vela, un deseo.",
  "Peque√±os pasos construyen grandes historias.",
  "Hoy alguien piensa en ti.",
  "Que la m√∫sica y la risa llenen tu d√≠a.",
  "Recuerda descansar: tambi√©n es un regalo.",
  "Una sonrisa puede cambiarlo todo.",
  "Atr√©vete a so√±ar.",
  "Haz una pausa y agradece.",
  "La bondad es contagiosa.",
  "Abraza el presente.",
  "Siembra una idea amable.",
  "Que la esperanza te acompa√±e.",
  "Cree en lo peque√±o.",
  "La ternura construye puentes.",
  "Celebra lo que importa.",
  "√öltimo empuj√≥n del mes: ¬°√°nimo!"
];

/* ===== REGALOS ===== */
const diasConRegalo = new Set([10, 15, 18]);

const giftIcon = `
<img src="https://cdn-icons-png.flaticon.com/512/1139/1139982.png"
     alt="regalo" width="120" style="filter: drop-shadow(0 0 4px white);">
`;

/* ===== CANCIONES ===== */
const canciones = {
  1:"https://open.spotify.com/embed/track/3QiAAp20rPC3dcAtKtMaqQ",
  2:"https://open.spotify.com/embed/track/4fzyvSu73BhGvi96p2zwjL",
  3:"https://open.spotify.com/embed/track/1yxcKrEcxt4O03IIC25yHk",
  4:"https://open.spotify.com/embed/track/7fUYUcWy853HS8YJn0b3Sr",
  5:"https://open.spotify.com/embed/track/7juPV71vBY8V28CVWVh9RE",
  6:"https://open.spotify.com/embed/track/6syO6UTl8QiiWADJy3Uy2d",
  7:"https://open.spotify.com/embed/track/0IrKbfhVKW0xpPEzRDeSUb",
  8:"https://open.spotify.com/embed/track/34zJEmGCjFQTV9SKG4nX2e",
  9:"https://open.spotify.com/embed/track/2EjXfH91m7f8HiJN1yQg97",
  10:"https://open.spotify.com/embed/track/7uoFMmxln0GPXQ0AcCBXRq",
  11:"https://open.spotify.com/embed/track/34HnsDct5xX1vfcz3LaQQs",
  12:"https://open.spotify.com/embed/track/1ZKuSGOgsXAaG5h9kboNwH",
  13:"https://open.spotify.com/embed/track/65irrLqfCMRiO3p87P4C0D",
  14:"https://open.spotify.com/embed/track/5hslUAKq9I9CG2bAulFkHN",
  15:"https://open.spotify.com/embed/track/3YZE5qDV7u1ZD1gZc47ZeR",
  16:"https://open.spotify.com/embed/track/1TQGYhufxXY1YiYjI3gdSd",
  17:"https://open.spotify.com/embed/track/2FRnf9qhLbvw8fu4IBXx78",
  18:"https://open.spotify.com/embed/track/0bYg9bo50gSsH3LtXe2SQn",
  19:"https://open.spotify.com/embed/track/5hslUAKq9I9CG2bAulFkHN",
  20:"https://open.spotify.com/embed/track/6rqn19AqjcM5wgI1hCYciJ",
  21:"https://open.spotify.com/embed/track/2QpN1ZVw8eJO5f7WcvUA1k",
  22:"https://open.spotify.com/embed/track/2FRnf9qhLbvw8fu4IBXx78",
  23:"https://open.spotify.com/embed/track/4KV9bM7a1KDc7b7OakFZic",
  24:"https://open.spotify.com/embed/track/0OlwVgiXo2qkwAI84wmTLj",
  25:"https://open.spotify.com/embed/track/0mSH3qaoRskcre3noTXbcB"
};


/* ===== FECHA ===== */
const hoy = new Date();
const mes = hoy.getMonth() + 1;
const dia = hoy.getDate();

const grid = document.getElementById("grid");

/* ===== CREAR LOS 25 D√çAS ===== */
for (let i = 1; i <= 25; i++) {
    const d = document.createElement("div");
    d.className = "day";
    d.dataset.day = i;

    d.innerHTML = `
        <div class="num">${i}</div>
        <div class="label">${i === 1 ? "Inicio" : (i === 25 ? "Final" : "D√≠a " + i)}</div>
    `;

    if (!(mes === 12 && i <= dia)) {
        d.classList.add("locked");
    }

    grid.appendChild(d);
}

/* ===== MODAL ===== */
const overlay = document.getElementById("overlay");
const modalTitle = document.getElementById("modalTitle");
const modalText = document.getElementById("modalText");
const modalGift = document.getElementById("modalGift");
const modalAudio = document.getElementById("modalAudio");
const closeBtn = document.getElementById("closeBtn");

grid.addEventListener("click", ev => {
    const box = ev.target.closest(".day");
    if (!box) return;

    const day = Number(box.dataset.day);

    if (!(mes === 12 && day <= dia)) {
        alert("Ese d√≠a a√∫n no se puede abrir.");
        return;
    }

    modalTitle.textContent = "D√≠a " + day;
    modalText.textContent = frases[day - 1];

    /* Canci√≥n */
    modalAudio.innerHTML = `
        <iframe style="border-radius:12px" src="${canciones[day]}"
        width="100%" height="152" frameborder="0" allow="autoplay; clipboard-write; encrypted-media"
        loading="lazy"></iframe>
    `;

    /* Regalo */
    modalGift.innerHTML = diasConRegalo.has(day) ? giftIcon : "";

    overlay.classList.add("show");
});

closeBtn.onclick = () => overlay.classList.remove("show");
overlay.onclick = e => { if (e.target === overlay) overlay.classList.remove("show"); };

/* ===== NIEVE ===== */
function crearCopo() {
    const c = document.createElement("div");
    c.className = "snowflake";
    c.textContent = "‚ùÑ";
    c.style.left = Math.random()*100 + "vw";
    c.style.fontSize = (10 + Math.random()*12) + "px";
    c.style.animationDuration = (6 + Math.random()*8) + "s";
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 9000);
}
setInterval(crearCopo, 180);
</script>

</body>
</html>
